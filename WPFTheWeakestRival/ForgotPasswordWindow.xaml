<Window x:Class="WPFTheWeakestRival.ForgotPasswordWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Recuperar contraseña"
        Height="434"
        Width="440"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        SnapsToDevicePixels="True"
        UseLayoutRounding="True"
        TextOptions.TextRenderingMode="Aliased">

    <Window.Resources>
        <!-- Colores de botones (mismos que EmailVerification) -->
        <SolidColorBrush x:Key="DialogButtonForeground" Color="White" />
        <SolidColorBrush x:Key="ResendButtonBackground" Color="#FF1976D2" />
        <!-- Azul -->
        <SolidColorBrush x:Key="ConfirmButtonBackground" Color="#FF4CAF50" />
        <!-- Verde -->
        <SolidColorBrush x:Key="CancelButtonBackground" Color="#FFF44336" />
        <!-- Rojo -->

        <!-- Estilo base para todos los botones del diálogo -->
        <Style x:Key="DialogButtonStyle" TargetType="Button">
            <Setter Property="Padding" Value="8,4" />
            <Setter Property="Margin" Value="0,0,8,0" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Cursor" Value="Hand" />
        </Style>
    </Window.Resources>

    <!-- Fondo del sobre (igual que EmailVerification; si luego quieres otro, solo cambias la imagen) -->
    <Window.Background>
        <ImageBrush ImageSource="/WPFTheWeakestRival;component/Assets/Backgrounds/VerificationCodeBackground.png"
                    Stretch="UniformToFill"
                    AlignmentY="Top" />
    </Window.Background>

    <Grid Margin="0,0,0,-6">
        <!-- Hoja blanca encima del sobre -->
        <Border Background="White"
                CornerRadius="6"
                Margin="32,58,32,83"
                Opacity="0.96">
            <!-- Contenido de la ventana -->
            <Grid Margin="16">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <!-- Correo -->
                    <RowDefinition Height="12"/>
                    <RowDefinition Height="Auto"/>
                    <!-- Código -->
                    <RowDefinition Height="12"/>
                    <RowDefinition Height="Auto"/>
                    <!-- Nueva contraseña -->
                    <RowDefinition Height="12"/>
                    <RowDefinition Height="Auto"/>
                    <!-- Confirmar contraseña -->
                    <RowDefinition Height="16"/>
                    <RowDefinition Height="Auto"/>
                    <!-- Botones -->
                </Grid.RowDefinitions>

                <!-- Correo -->
                <StackPanel Grid.Row="0">
                    <TextBlock Text="Correo electrónico"
                               Margin="0,0,0,4"/>
                    <TextBox x:Name="txtEmail"
                             IsReadOnly="True"
                             VerticalContentAlignment="Center"/>
                </StackPanel>

                <!-- Código -->
                <StackPanel Grid.Row="2">
                    <TextBlock Text="Código de recuperación"
                               Margin="0,0,0,4"/>
                    <TextBox x:Name="txtCode"
                             Width="140"
                             MaxLength="6"
                             HorizontalAlignment="Left"
                             VerticalContentAlignment="Center">
                        <TextBox.InputScope>
                            <InputScope>
                                <InputScope.Names>
                                    <InputScopeName NameValue="Number"/>
                                </InputScope.Names>
                            </InputScope>
                        </TextBox.InputScope>
                    </TextBox>
                </StackPanel>

                <!-- Nueva contraseña -->
                <StackPanel Grid.Row="4">
                    <TextBlock Text="Nueva contraseña"
                               Margin="0,0,0,4"/>
                    <PasswordBox x:Name="pwdNewPassword"
                                 VerticalContentAlignment="Center"/>
                </StackPanel>

                <!-- Confirmar contraseña -->
                <StackPanel Grid.Row="6">
                    <TextBlock Text="Confirmar contraseña"
                               Margin="0,0,0,4"/>
                    <PasswordBox x:Name="pwdConfirmPassword"
                                 VerticalContentAlignment="Center"/>
                </StackPanel>

                <!-- Botones -->
                <StackPanel Grid.Row="8"
                            Orientation="Horizontal"
                            HorizontalAlignment="Right">
                    <TextBlock x:Name="lblCooldown"
                               Margin="0,0,12,0"
                               VerticalAlignment="Center"/>

                    <Button x:Name="btnResend"
                            Style="{StaticResource DialogButtonStyle}"
                            Background="{StaticResource ResendButtonBackground}"
                            Foreground="{StaticResource DialogButtonForeground}"
                            Content="Reenviar código"
                            Width="120"
                            Click="ResendClick"/>

                    <Button x:Name="btnConfirm"
                            Style="{StaticResource DialogButtonStyle}"
                            Background="{StaticResource ConfirmButtonBackground}"
                            Foreground="{StaticResource DialogButtonForeground}"
                            Content="Restablecer"
                            Width="100"
                            Click="ConfirmClick"/>

                    <Button x:Name="btnCancel"
                            Style="{StaticResource DialogButtonStyle}"
                            Background="{StaticResource CancelButtonBackground}"
                            Foreground="{StaticResource DialogButtonForeground}"
                            Content="Cancelar"
                            Width="100"
                            Margin="0"
                            Click="CancelClick"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
