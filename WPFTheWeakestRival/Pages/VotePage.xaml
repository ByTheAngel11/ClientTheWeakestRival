<Page x:Class="WPFTheWeakestRival.Pages.VotePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:models="clr-namespace:WPFTheWeakestRival.Models">
    <Grid Margin="16"
          Background="#FF1E1E1E">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="8" />
            <RowDefinition Height="*" />
            <RowDefinition Height="8" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Título + tiempo -->
        <StackPanel Orientation="Horizontal"
                    Grid.Row="0">
            <TextBlock Text="VOTACIÓN - ELIGE AL RIVAL MÁS DÉBIL"
                       FontSize="18"
                       FontWeight="Bold"
                       Foreground="White"
                       Margin="0,0,12,0" />
            <TextBlock Text="Tiempo:"
                       Foreground="White"
                       Margin="0,0,4,0" />
            <TextBlock x:Name="LblVoteCountdown"
                       Foreground="#FFFFCC00"
                       FontWeight="Bold"
                       Text="0" />
            <TextBlock Text=" s"
                       Foreground="White" />
        </StackPanel>

        <!-- Lista de jugadores -->
        <ListBox x:Name="LstVotePlayers"
                 Grid.Row="2"
                 Margin="0,4,0,4"
                 BorderThickness="0"
                 Background="Transparent"
                 Foreground="White"
                 SelectionMode="Single">
            <ListBox.ItemTemplate>
                <DataTemplate DataType="{x:Type models:PlayerVoteItem}">
                    <Border Padding="8"
                            Margin="0,2"
                            CornerRadius="6"
                            Background="#33222222">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="{Binding DisplayName}"
                                       FontWeight="Bold"
                                       Margin="0,0,8,0" />
                            <TextBlock Text="{Binding BankedPoints, StringFormat=Bank: {0:0.00}}"
                                       Margin="0,0,8,0" />
                            <TextBlock Text="{Binding CorrectAnswers, StringFormat=✓ {0}}"
                                       Margin="0,0,8,0" />
                            <TextBlock Text="{Binding WrongAnswers, StringFormat=✗ {0}}" />
                        </StackPanel>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

        <!-- Botones -->
        <StackPanel Grid.Row="4"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right">
            <Button x:Name="BtnSkipVote"
                    Content="ABSTENERSE"
                    Width="120"
                    Margin="0,0,8,0"
                    Click="BtnSkipVote_Click" />
            <Button x:Name="BtnConfirmVote"
                    Content="VOTAR"
                    Width="120"
                    Click="BtnConfirmVote_Click" />
        </StackPanel>
    </Grid>
</Page>
