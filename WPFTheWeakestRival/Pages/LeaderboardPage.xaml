<Page x:Class="WPFTheWeakestRival.Pages.LeaderboardPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:loc="clr-namespace:WPFTheWeakestRival.Globalization"
      Background="Transparent">

    <Page.Resources>
        <SolidColorBrush x:Key="ChalkFg" Color="#F8F8F8"/>
        <SolidColorBrush x:Key="ChalkGrid" Color="#55FFFFFF"/>
        <SolidColorBrush x:Key="CardBg" Color="#CC000000"/>

        <DropShadowEffect x:Key="ChalkShadow" BlurRadius="2" ShadowDepth="0" Opacity="0.65"/>

        <Style x:Key="ChalkHeaderStyle" TargetType="DataGridColumnHeader">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource ChalkFg}"/>
            <Setter Property="FontFamily" Value="Segoe Print"/>
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="BorderBrush" Value="{StaticResource ChalkGrid}"/>
            <Setter Property="BorderThickness" Value="0,0,0,2"/>
            <Setter Property="Effect" Value="{StaticResource ChalkShadow}"/>
        </Style>

        <Style x:Key="ChalkCellStyle" TargetType="DataGridCell">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource ChalkFg}"/>
            <Setter Property="FontFamily" Value="Segoe Print"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="BorderBrush" Value="{StaticResource ChalkGrid}"/>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
            <Setter Property="Effect" Value="{StaticResource ChalkShadow}"/>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
        </Style>

        <Style x:Key="ChalkRowStyle" TargetType="DataGridRow">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#22000000"/>
                </Trigger>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="#33000000"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="ChalkDataGridStyle" TargetType="DataGrid">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="RowBackground" Value="Transparent"/>
            <Setter Property="AlternatingRowBackground" Value="#11000000"/>
            <Setter Property="Foreground" Value="{StaticResource ChalkFg}"/>
            <Setter Property="GridLinesVisibility" Value="None"/>
            <Setter Property="HeadersVisibility" Value="Column"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="CanUserDeleteRows" Value="False"/>
            <Setter Property="CanUserReorderColumns" Value="False"/>
            <Setter Property="CanUserResizeColumns" Value="True"/>
            <Setter Property="CanUserSortColumns" Value="False"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="SelectionUnit" Value="FullRow"/>
            <Setter Property="ColumnHeaderStyle" Value="{StaticResource ChalkHeaderStyle}"/>
            <Setter Property="CellStyle" Value="{StaticResource ChalkCellStyle}"/>
            <Setter Property="RowStyle" Value="{StaticResource ChalkRowStyle}"/>
        </Style>
    </Page.Resources>

    <Grid Margin="16">
        <Border Background="{StaticResource CardBg}" CornerRadius="16" Padding="16">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Grid Grid.Row="0" Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="{loc:Loc btnScoreboard}"
                               Foreground="{StaticResource ChalkFg}"
                               FontFamily="Segoe Print"
                               FontSize="26"
                               FontWeight="Bold"
                               Effect="{StaticResource ChalkShadow}"/>

                    <Button Grid.Column="1"
                            Width="34" Height="34"
                            Content="✕"
                            FontSize="16"
                            Background="#22FFFFFF"
                            Foreground="{StaticResource ChalkFg}"
                            BorderThickness="0"
                            Cursor="Hand"
                            Click="BtnCloseClick"/>
                </Grid>

                <DataGrid Grid.Row="1"
                          Style="{StaticResource ChalkDataGridStyle}"
                          ItemsSource="{Binding LeaderboardEntries}"
                          AutoGenerateColumns="False"
                          IsReadOnly="True">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Participante"
                                            Binding="{Binding Username}"
                                            Width="2*"/>
                        <DataGridTextColumn Header="Calificación"
                                            Binding="{Binding Score, StringFormat=F2}"
                                            Width="*"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Border>
    </Grid>
</Page>
